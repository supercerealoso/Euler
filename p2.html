<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Project Euler 2</title>
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
    </head>
    <body>
        <div class="container">
            <a href="https://projecteuler.net/problem=2"><h1>Project Euler 2</h1></a>
            <p>Each new term in the Fibonacci sequence is generated by adding the previous two terms. By starting with 1 and 2, the first 10 terms will be:</p>
            <p>1, 2, 3, 5, 8, 13, 21, 34, 55, 89, ...</p>
            <p>By considering the terms in the Fibonacci sequence whose values do not exceed four million, find the sum of the even-valued terms.</p>
            <h2>Simple Solution</h2>
            <div class="row">
                <div class="col-md-6">
                    <p>Get every number of the sequence one by one and check if it is even.</p>
                    <pre>function simple(n) {
    var sum = 0;
    var a = 1;
    var b = 1;
    while (b &lt; n) {
        if (b % 2 === 0)
            sum = sum + b;
        var h = a + b;
        a = b;
        b = h;
    }
    return sum;
}</pre>
                </div>
                <div class="col-md-6">
                    <label>Value for n</label>
                    <div class="input-group">
                        <input type="text" class="form-control" value="4000000" id="n1"/>
                        <span class="input-group-btn">
                            <button class="btn btn-primary" type="button" id="test1">Test</button>
                        </span>
                    </div>
                    <label>Result</label>
                    <input type="text" class="form-control" id="r1" value=""/>
                    <label>Time in milliseconds</label>
                    <input type="text" class="form-control" id="t1" value=""/>
                </div>
            </div>
            <h2>Better Solution</h2>
            <div class="row">
                <div class="col-md-6">
                    <p>Note that every third number of the sequence is even because the sum of two odd numbers is even and the sum of an even number and an odd number is odd. This can be proved formally by mathematical induction.</p>
                    <p>If F(n) is the nth number of the sequence, F(n) = F(n - 1) + F(n - 2). A formula to get F(n) using F(n - 3) and F(n - 6) can be found.</p>
                    <p>F(n) = F(n - 1) + F(n - 2)</p>
                    <p class="text-center">F(n - 1) = F(n - 2) + F(n - 3)</p>
                    <p>F(n) = F(n - 2) + F(n - 3) + F(n - 2)</p>
                    <p>F(n) = 2 * F(n - 2) + F(n - 3)</p>
                    <p class="text-center">F(n - 2) = F(n - 3) + F(n - 4)</p>
                    <p>F(n) = 2 * (F(n - 3) + F(n - 4)) + F(n - 3))</p>
                    <p>F(n) = 3 * F(n - 3) + 2 * F(n - 4)</p>
                    <p class="text-center">F(n - 4) = F(n - 5) + F(n - 6)</p>
                    <p>F(n) = 3 * F(n - 3) + F(n - 4) + F(n - 5) + F(n - 6)</p>
                    <p class="text-center">F(n - 3) = F(n - 4) + F(n - 5)</p>
                    <p>F(n) = 4 * F(n - 3) + F(n - 6)</p>
                    <pre>function better(n) {
    var sum = 0;
    var a = 2;
    var b = 8;
    while (a &lt; n) {
        sum = sum + a;
        var h = 4 * b + a;
        a = b;
        b = h;
    }
    return sum;
}</pre>
                </div>
                <div class="col-md-6">
                    <label>Value for n</label>
                    <div class="input-group">
                        <input type="text" class="form-control" value="4000000" id="n2"/>
                        <span class="input-group-btn">
                            <button class="btn btn-primary" type="button" id="test2">Test</button>
                        </span>
                    </div>
                    <label>Result</label>
                    <input type="text" class="form-control" id="r2" value=""/>
                    <label>Time in milliseconds</label>
                    <input type="text" class="form-control" id="t2" value=""/>
                </div>
            </div>
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <script>
            function simple(n) {
                var sum = 0;
                var a = 1;
                var b = 1;
                while (b < n) {
                    if (b % 2 === 0)
                        sum = sum + b;
                    var h = a + b;
                    a = b;
                    b = h;
                }
                return sum;
            }
            function better(n) {
                var sum = 0;
                var a = 2;
                var b = 8;
                while (a < n) {
                    sum = sum + a;
                    var h = 4 * b + a;
                    a = b;
                    b = h;
                }
                return sum;
            }
            $("#test1").click(function() {
                var n = parseInt($("#n1").val());
                var start = new Date().getTime();
                var r = simple(n);
                var end = new Date().getTime();
                $("#r1").val(r);
                $("#t1").val(end - start);
            });
            $("#test2").click(function() {
                var n = parseInt($("#n2").val());
                var start = new Date().getTime();
                var r = better(n);
                var end = new Date().getTime();
                $("#r2").val(r);
                $("#t2").val(end - start);
            });
        </script>
    </body>
</html>
